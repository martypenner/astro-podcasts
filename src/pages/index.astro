---
import Layout from "../layouts/Layout.astro";
import { App } from "../components/App.tsx";
import { trending, searchByTerm } from "../services/podcast-api";

const feeds = await trending();
// const feeds = await searchByTerm("computer programming");
console.log(feeds);
---

<Layout title="Welcome to podcaster.">
  <main class="prose lg:prose-xl">
    <App client:only />

    <ul>
      {
        feeds.map((feed) => (
          <li>
            <a href={feed.url}>
              <img src={feed.image} alt="" width={100} height={100} />
              {feed.title}
            </a>
          </li>
        ))
      }
    </ul>
  </main>
</Layout>
